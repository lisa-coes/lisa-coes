---
author: LISA
banner: img/banners/blog-2.png
categories:
- componentes
date: "2020-12-20T10:50:46+02:00"
description: 
tags:
- componentes
- ciencia abierta
- datos
title: Datos abiertos
bibliography: "../input/Documentation_lapop_database.bib"
cls: "../input/apa6.cls"
linkcolor: blue
link-citations: yes
editor_options:
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(warning = FALSE, message = FALSE, cache = FALSE,echo = F)
pacman::p_load(dplyr, kableExtra,sjlabelled, readxl)
options(scipen=999,
        knitr.kable.NA = '',
        knitr.graphics.error = FALSE)
Sys.setlocale("LC_ALL", "ES_ES.UTF-8")
```

```{r load, echo = F}
table<- readxl::read_excel("../input/summary-opendata.xlsx")
```

# Gu√≠a para la apertura de datos

En parte importante de nuestras investigaciones producimos datos: hacemos encuestas, recopilamos datos administrativos e indicadores. En el desarrollo de nuestros proyectos muchas/os nos encontramos con el dilema de **compartir nuestros datos al resto de la comunidad cient√≠fica** pero muchas veces no sabemos c√≥mo lograrlo. *¬øC√≥mo abrir nuestros datos? ¬øQu√© criterios debo cumplir para que sean publicados? ¬øD√≥nde y c√≥mo publicarlos?* En el siguiente blog te contestaremos estas preguntas.

## Paso 1: ¬øQu√© es lo que tengo?

Empecemos con lo primero: qu√© elementos debo considerar para compartir los datos de mi proyecto. En general, lo que tenemos o recibimos (cuando encargamos el terreno) de nuestro estudio son cuatro elementos:
<center>

![](../../img/blogs/lisa-elementos-3.png)

</center>

**`1. Bases de datos`**: archivo que contiene la informaci√≥n recopilada. Este archivo puede estar en  distintos formatos, como por ejemplo, en *.csv* y *.xlsx* (Excel), *.sav* (SPSS), *.dta* (STATA) o *.RData* (R).

**`2. Cuestionario`**: en caso de estar trabajando con una encuesta, es el archivo que contiene las preguntas que se le realizaron a los participantes del estudio. Es un documento de texto que est√° en formato *.pdf* o *.docs*. 

**`3. Libro de c√≥digos`**: es la s√≠ntesis entre las preguntas realizadas en el **cuestionario** y que son contenidas en la **base de datos**. El libro de c√≥digos es un documento de texto que resume asocia a los √≠tems consultados el nombre de la variable disponible en los datos. 

**`4. Ficha t√©cnica`**: o tambi√©n nombrado "informe metodol√≥gico", es el documento que nos permite conocer caracter√≠sticas del dise√±o metodol√≥gico propias del instrumento de an√°lisis. En el encontraremos informaci√≥n sobre el terreno, tipo de instrumento y, en algunas ocasiones, una descripci√≥n sobre los datos recopilados.

En algunas ocasiones no todos estos elementos est√°n presentes. Si es as√≠ ¬°no es tiempo de abandonar la cruzada por abrir tus datos! En el siguiente paso podr√°s conocer cu√°l es su **formato admisibles** y **c√≥mo elaborarlos en caso de que no los tengas**. 

# Paso 2: ¬øC√≥mo darle en un formato aceptable?

## `1. Bases de datos`

Para resguardar la calidad de nuestros datos debemos asegurar una correcta **codificaci√≥n de las respuestas y nombramiento de las variables**, ambas bases fundamentales de los datos (filas y columnas). Un paso inicial es realizar un **an√°lisis descriptivo de los datos** para reconocer posibles problemas producidos por digitaci√≥n, por ejemplo.

### 1.1 Codificaci√≥n de las respuestas

**1.1.2 Identificar casos perdidos**: se deben clasificar a los tipos de perdido de manera diferenciada. Esto implica que codificar con distintos n√∫meros los perdidos como: *"No sabe", "No responde", "No aplica", "Sin dato", "Error de proceso/Dato no disponible".* Te proponemos el siguiente esquema

<center>

| Respuesta        | C√≥digo num√©rico |
| ---------------- |:-------------:|
| No responde      | -999 |
| No sabe          | -998 |
| Error de proceso | -997 |
| No aplica        | -996 |
| Sin dato         | -995 |
| No disponible    | -994 |

</center>
</br>

**1.1.2. Identificaci√≥n de unidades de observaci√≥n**: debemos asegurarnos de tener tantas variables identificadoras como unidades de an√°lisis tengamos. Esto quiere decir, que si nuestros datos incluyen informaci√≥n tanto a nivel individual como grupal de nuestras observaciones, debemos identificarlos en distintas variables. Por ejemplo, imagin√©mos que estamos realizando un estudio panel a empresas. En los datos tenemos que tener disponible una variable `id-empresa` y `id-empresa-tiempo` (que nos designar√° un identificador de la ocurrencia de respuesta). 

### 1.2 Nombres de variables

Las variables son el elemento con el cu√°l trabajamos cuando analizamos datos. Por ello deben responder a dos criterios

**1.2.1. Claridad y coherencia**: para cada escala o m√≥dulo tem√°tico de tu instrumento, debes incorporar una letra distinta seguido de un n√∫mero. Por ejemplo, para el m√≥dulo S `s_1`, `s_2` y para el m√≥dulo O `o_1`, `o_2`, ... 

Otra opci√≥n es trabajar con abreviaturas nemot√©cnicas, es decir, nombres corrtos de las variables que representan el significado del √≠tem. Por ejemplo, `nt_mujeres` para designar el *N√∫mero de trabajadores mujeres* en la empresa que estudiamos.  


**1.2.2 Utilizables**: como la idea central es poder compartir nuestros datos, estos deben ser poder abiertos por otros softwares. Para ello las variables deben cumplir estos puntos:

| Recomendaciones |    |
| :---------------- |-------------|
| üî¥ Dos variables no pueden tener el mismo nombre &nbsp; | üî¥ No utilizar m√°s de 12 car√°cteres en el nombre |
| üî¥ Empezar con una letra | üî¥ Deben ser solo alfanum√©ricos (N√∫meros y letras, sin s√≠mbolos . ; , : ‚Äú $ @) |
| üî¥ Estar min√∫scula | üî¥ No utilizar la letra √±, remplazarlo por gn (agnos, en vez de a√±os) |
|  üî¥ Remplazar espacios por gui√≥n bajo (edad_rec) | 
</br>

üó∏ Si decides etiquetar tus variables con alguna descripci√≥n sobre estas, debes guardarlas en un formato como *.sav, .dta o .RData* para que conserve esta caracter√≠stica

## `2. Cuestionario`

Debes asegurar que se cumplan los siguientes puntos

üî¥ El cuestionario disponible es el que efectivamente fue aplicado (¬°no es trivial! muchas veces elaboramos varias versiones de este antes de aplicarlo)

üî¥ El orden y fraseo de preguntas y categor√≠as de respuesta debe corresponder al efectivamente aplicado

üó∏ Para evitar ediciones posteriores, recomendamos mantener el cuestionario en *.pdf*

## `3. Libro de c√≥digos`

Este documento es clave para que los (futuros) usuarios/as de sus datos cuenten con informaci√≥n suficiente para utilizarlos correctamente. Para que cumpla su objetivo debes verificar que hay coherencia entre 

üî¥ La pregunta del cuestionario y la variable indicada

üî¥ El orden de las categor√≠as de respuesta en el cuestionario  y en los valores codificados en la base de datos

üî¥ El n√∫mero de preguntas/√≠tems disponibles en el cuestionario y el n√∫mero de variables disponibles en los datos. *Solo en algunos casos, por cuestiones de anonimizaci√≥n, no se disponen p√∫blicamente de todas las preguntas consultadas*

üó∏ Para evitar ediciones posteriores, recomendamos mantener el cuestionario en *.pdf*

## `4. Ficha T√©cnica`

Este resumen sobre el dise√±o metodol√≥gico aplicado debe incluir como m√≠nimo los siguientes puntos:

üî¥ **Estrategia de recolecci√≥n de informaci√≥n**: se debe indicar el *tipo de instrumento* (eg. encuesta, datos administrativos, etc.), poblaci√≥n y muestra objetivo. 


üî¥ **Descripci√≥n del terreno**: cu√°ndo, c√≥mo y d√≥nde fue aplicado el terreno. Es decir, se debe indicar la fecha de aplicaci√≥n, formato (presencial, online,telef√≥nica, cuestionario auto-aplicado) y ubicaci√≥n geogr√°fica. Tambi√©n si hubieron hitos o perturbaciones importantes al desarrollo del estudio. 

üî¥ **Descripci√≥n muestral** (*solo en caso de encuestas*): indica el tipo de muestreo, tasa de respuesta y variables principales que permitieron construir los ponderadores y factores de expansi√≥n. 

üî¥ **Identificaci√≥n de la instituci√≥n responsable**: ya sea una consultora o el mismo equipo a cargo de la investigaci√≥n, esto debe estar especificado en la ficha. 

De todas maneras, una ficha metodol√≥gica puede incluir muchos m√°s elementos, por ejemplo, una revisi√≥n de la distribuci√≥n de las variables y/o una presentaci√≥n de los t√≥picos incluidos en la base de datos. 

üó∏ Para evitar ediciones posteriores, recomendamos mantener el cuestionario en *.pdf*

## En s√≠ntesis

```{r, results='asis', echo = F}
dt_url <- c("www.ejemplo1.cl",
            "www.ejemplo1.cl",
            "www.ejemplo1.cl",
            "www.ejemplo1.cl",
            "www.ejemplo2.cl",
            "www.ejemplo2.cl",
            "www.ejemplo3.cl",
            "www.ejemplo3.cl",
            "www.ejemplo4.cl",
            "www.ejemplo4.cl",
            "www.ejemplo4.cl",
            "www.ejemplo4.cl")

table <- table %>% 
mutate(model = cell_spec(Ejemplo, "html", link = dt_url))  
table %>% select(-Ejemplo) %>% 
kableExtra::kbl(., full_width = T, linesep = "", escape = FALSE) %>%
  kable_styling(
    full_width = F,
    position = "center",
    font_size = 10,
    bootstrap_options=c("striped", "bordered", "condensed", "responsive")) %>%  kableExtra::collapse_rows(columns = 1:5)
```

# Paso 3 : ¬øC√≥mo publicar?


# Fuentes

- ICPSR